<!DOCTYPE html>

<div class="title-step-row">
  <p class="titolo">Carica Immobile</p>

  <div class="step-indicator">
    <div class="step-circle">1</div>
    <div class="step-line"></div>
    <div class="step-circle">2</div>
    <div class="step-line"></div>
    <div class="step-circle">3</div>
    <div class="step-line"></div>
    <div class="step-circle">4</div>
  </div>
</div>

<p class="sottotitolo">Informazioni geografiche</p>


<div class="map-wrapper">
    
  <div id="map" map-id="7e09b66dcfaa788fb9c8f8bd"></div>
</div>


<form [formGroup]="locationForm" (ngSubmit)="onSubmit()">

  <div class="input-row">
    <div class="form-group">
      <label for="indirizzo">Indirizzo:</label>
      <input id="indirizzo" formControlName="indirizzo"/>
    </div>


    <div class="form-group">
      <label for="province">Provincia:</label>
      <!--<select formControlName="provincia">
        <option *ngFor="let p of provinceList" [value]="p.sigla">{{ p.nome }} ({{ p.sigla }})</option>
      </select>-->
      <input type="text" list="provinceList" formControlName="provincia" placeholder="Scrivi o seleziona una provincia..." />
      <datalist id="provinceList">
        <option *ngFor="let p of provinceList" [value]="p.sigla">{{ p.nome }} ({{ p.sigla }})</option>
      </datalist>
    </div>

    
    <div class="form-group">
      <label for="citta">Comune:</label>
      <input type="text" list="comuniList" formControlName="citta" placeholder="Scrivi o seleziona un comune..." (focus)="checkProvincia()"/>
      <datalist id="comuniList">
        <option *ngFor="let c of comuniList" [value]="c.nome"></option>
      </datalist>

      <small class="text-danger" *ngIf="provinciaNonSelezionata">Seleziona prima una provincia!</small>

</div>

    
  </div>

  

  <div class="button-row">
    <button (click)="onAnnulla()" class="btn btn-secondary"><span class="flip-arrow">&#10140;</span> Annulla</button> 
    <button type="submit" [disabled]="locationForm.invalid" class="btn btn-primary">Avanti âžœ</button>
  </div>

  
</form>

<div class="feedback-provincia" [class.show]="mostraFeedback">
  Seleziona prima una provincia!
</div>
