<header>
    <nav class="navbar">
        <div class="home">
            <a aria-label="Home" class="logo" routerLink="/">
                <span class="name">
                    DietiEstates25
                </span>
            </a>
        </div>

        <div class="profile-menu" (click)="toggleDropdown()">

  @if (auth.isUserAuthenticated()) {

    @if (auth.getUserType() === 'Cliente') {

      <span class="profile-username">Profilo</span>
      <span class="profile-arrow">
        <span *ngIf="dropdownOpen">&#9650;</span>
        <span *ngIf="!dropdownOpen">&#9660;</span>
      </span>
      <span class="profile-icon">üë§</span>

      <div class="dropdown" *ngIf="dropdownOpen">
        <div class="dropdown-header">Riepilogo Attivit√†</div>
        <ul>
          <li><a [routerLink]="['/riepilogo-attivita']" fragment="Immobili">Immobili Visualizzati</a></li>
          <li><a [routerLink]="['/riepilogo-attivita']" fragment="Offerte">Offerte Fatte</a></li>
          <li><a [routerLink]="['/riepilogo-attivita']" fragment="Prenotazioni">Prenotazioni Effettuate</a></li>
        </ul>

        <hr>
        <div class="dropdown-logout">
          <a [routerLink]="['/logout']">Logout ‚çà</a>
        </div>
      </div>

    } @else if (auth.getUserType() === 'AgenteImmobiliare' && this.auth.authState.googleLinked) {

      <span>Operazioni</span>
      <span class="profile-arrow">
        <span *ngIf="dropdownOpen">&#9650;</span>
        <span *ngIf="!dropdownOpen">&#9660;</span>
      </span>

      <div class="dropdown" *ngIf="dropdownOpen">
        <a [routerLink]="['/create-immobile']">Crea nuova inserzione +</a>
        <hr>

        <div class="dropdown-header">Dashboard</div>
        <ul>
          <li><a [routerLink]="['/dashboard']" fragment="Immobili">Immobili</a></li>
          <li><a [routerLink]="['/dashboard']" fragment="Offerte">Offerte</a></li>
          <li><a [routerLink]="['/dashboard']" fragment="Prenotazioni">Prenotazioni</a></li>
          <li><a [routerLink]="['/dashboard']" fragment="Vendite">Vendite</a></li>
          <li><a [routerLink]="['/dashboard']" fragment="Storico">Storico</a></li>
        </ul>

        <hr>
        <div class="dropdown-logout">
          <a [routerLink]="['/logout']">Logout ‚çà</a>
        </div>
      </div>

    } @else if (auth.getUserType() === 'AmministratoreAgenzia' || auth.getUserType() === 'AccountSupporto') {

      <div class="logout-signup">
        <a class="login" routerLink="/logout">Logout</a>
      </div>
    }

  } @else {

    <div class="login-signup">
      <a class="login" routerLink="/login">Login</a>
      <a class="registrazione" routerLink="/signup-cliente">Registrati</a>
    </div>

  }

</div>

    </nav>
</header>